var filemanager={baseUrl:"",ckBrowseUrl:""};setTimeout(function(){filemanager.ckBrowseUrl=filemanager.baseUrl+"?editor=ckEditor"}),filemanager.openWindow=function(e){var n,i,a;e&&(a="toolbar=no,location=no,directories=no,status=no,menubar=no,resizable=yes,dependent=yes",a+=",width="+(n=.7*screen.width),a+=",height="+(i=.7*screen.height),a+=",left="+(screen.width-n)/2,a+=",top="+(screen.height-i)/2,window.open(e,"Filemanager",a))},filemanager.btnSummernote=function(n){return $.summernote.ui.button({contents:'<i class="fa fa-image"/> Filemanager',tooltip:"Pick a file",click:function(){console.log(n);var e=null;n.$note[0].className&&(e="."+n.$note[0].className),n.$note[0].id&&(e="#"+n.$note[0].id),filemanager.openWindow(filemanager.baseUrl+"?editor=summernote&note="+e)}}).render()},filemanager.tinyMceCallback=function(e,n,i,a){console.log("field name:",e);var t=window,l=document,o=l.documentElement,r=l.getElementsByTagName("body")[0],c=t.innerWidth||o.clientWidth||r.clientWidth,m=t.innerHeight||o.clientHeight||r.clientHeight,s=filemanager.baseUrl+"?editor=tinyMCE&file_type=image";tinyMCE.activeEditor.windowManager.open({file:s,title:"Filemanager",width:.8*c,height:.8*m,resizable:"yes",close_previous:"no"})},filemanager.selectFile=function(e){var n;e&&(n=filemanager.baseUrl+"?&input_id="+e,filemanager.openWindow(n))},filemanager.bulkSelectFile=function(e){var n;e&&(n=filemanager.baseUrl+"?bulk=true&callback="+e,filemanager.openWindow(n))};